<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.1/themes/smoothness/jquery-ui.css">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

    

    <style>
    
   

/* TOP BANNER RULES
–––––––––––––––––––––––––––––––––––––––––––––––––– */

@media only screen and (max-width: 600px) {
/* Gaya CSS khusus untuk layar handphone android */
}

@media only screen and (min-width: 1024px) {
/* Gaya CSS khusus untuk layar laptop */
}

.top-banner {
  position: relative;
  left: 220px;
  display: grid;
  width: calc(100% - 150px);
  height: 100vh;
  
    no-repeat center / cover;
}

.top-banner-overlay {
  display: grid;
  flex-direction: column;
  justify-content: center;
  width: 543px;
  padding: 25px;
  transition: all 0.7s;
  color: var(--white);
 
}

.top-banner-overlay.is-moved {
  transform: translateX(350px);
}

.top-banner-overlay.is-moved::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  right: 100%;
  width: 100px;
  box-shadow: 3px 0 10px rgba(0, 0, 0, .75);
}

.top-banner-overlay p {
  margin-top: 1px;
}

.top-nav li + li {
  margin-top: 10px;
}

/* MENU WRAPPER RULES
–––––––––––––––––––––––––––––––––––––––––––––––––– */
.top-nav .menu-wrapper {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  width: 350px;
  padding: 20px;
  transform: translateX(-1000px);
  transition: transform 0.7s;
  background: var(--menu-color);
}

.top-nav .menu-wrapper.is-opened {
  transform: translateX(150px);
}

.top-nav .menu-wrapper .menu {
  opacity: 0;
  transition: opacity 0.4s;
}

.top-nav .menu-wrapper.is-opened .menu {
  opacity: 1;
  transition-delay: 0.6s;
}

.top-nav .menu-wrapper .menu a {
  font-size: 1.0rem;
}

.top-nav .menu-wrapper .sub-menu {
  padding: 10px 0 0 7px;
}

.top-nav .menu-wrapper .menu-close {
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 2rem;
}

/* FIXED MENU RULES
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.top-nav .fixed-menu {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  width: 164px;
  padding: 10px;
  background:#FFB6C1;
}

.top-nav .fixed-menu .menu-toggle {
  font-size: 2rem;
  text-align: left;
  margin: 30px 0 auto;
  width: 28px;
}

/* MQ STYLES
–––––––––––––––––––––––––––––––––––––––––––––––––– */
@media (max-width: 900px) {
  body {
    font-size: 16px;
    overflow-x: hidden;
  }

  .top-banner {
    top: 50px;
    left: auto;
    width: 100%;
    height: calc(100vh - 50px);
    transform: none;
    align-items: center;
  }

  .top-banner-overlay {
    position: relative; /*2*/
    left: 0; /*2*/
    max-width: 100%;
  }

  .top-banner-overlay.is-moved {
    left: 100%; /*2*/
    transform: none;
  }

  .top-nav .menu-wrapper {
    width: 100%;
    transform: translateX(-100%);
    padding-top: 70px;
  }

  .top-nav .menu-wrapper.is-opened {
    transform: none;
  }

  .top-nav .menu-wrapper .menu-close {
    top: 70px;
  }

  .top-nav .fixed-menu {
    bottom: auto;
    flex-direction: row;
    align-items: center;
    width: 100%;
    height: 50px;
    padding: 0 20px;
  }

  .top-nav .fixed-menu .menu-toggle {
    margin: 0;
    order: 3;
  }

  .top-nav .socials {
    display: flex;
    margin-left: auto;
  }

  .top-nav .socials li {
    margin-right: 15px;
  }

  .top-nav .socials li + li {
    margin-top: 0;
  }
}

/* FOOTER STYLES
–––––––––––––––––––––––––––––––––––––––––––––––––– */
.page-footer {
  position: fixed;
  right: 0;
  bottom: 50px;
  display: flex;
  align-items: center;
  padding: 5px;
  z-index: 1;
  font-size: 16px;
  background: var(--white);
}

.page-footer a {
  display: flex;
  margin-left: 4px;
}
/* FOOTER STYLES
–––––––––––––––––––––––––––––––––––––––––––––––––– */

/* kotak form
–––––––––––––––––––––––––––––––––––––––––––––––––– */
.form-group {
  position: relative;
  text-align: left;
  font-family: Arial, Helvetica, sans-serif;
}

.form-group label {
  position: center;
  top: 50%;
  left: 0;
  font-size: 25px;
  color: rgb(0, 0, 0);
  transform: translateY(-1%);
  transition: all 0.2s ease-in-out;
}

.form-control {
  padding: 16px;
  border: none;
  background-color: transparent;
  font-size: 15px;
  color: rgb(0, 0, 0);
  border-radius: 10px;
  box-shadow: 0 0 0 1px rgb(255, 0, 0), 0 2px 8px rgba(0, 0, 0, 0.2);
  transition: all 0.2s ease-in-out;
  text-align: center; /* menengahkan teks input */
}

.form-control:focus {
  outline: none;
  box-shadow: 0 0 0 1px #80ee19, 0 2px 8px rgba(0, 0, 0, 0.2);
}

.form-control:focus + label,
.form-control:valid + label {
  top: -24px;
  font-size: 10px;
  color: #007bff;
}

.form-control:focus + label {
  color: #007bff;
}
/* kotak form
–––––––––––––––––––––––––––––––––––––––––––––––––– */


/* kotak form
–––––––––––––––––––––––––––––––––––––––––––––––––– */
h1 {
font-size: 48px;
font-weight: bold;
text-align: center;
font-family: "Great Vibes", cursive;;
color: #ff69b4;
text-shadow: 2px 2px #000;
font-style: italic;
letter-spacing: 2px;
}

@keyframes heartbeat {
0% {
transform: scale(1);
}
25% {
transform: scale(0.9);
}
50% {
transform: scale(1);
}
75% {
transform: scale(1.1);
}
100% {
transform: scale(1);
}
}

.button {
  background-color: #ff0000;
  color: #fff;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 2px 2px #000;
  transition: all 0.2s ease-in-out;
}

.button:hover {
  background-color: #fff;
  color: #ff0000;
  box-shadow: 4px 4px #000;
}


/* edit anjing
–––––––––––––––––––––––––––––––––––––––––––––––––– */
/* –––––––––––––––––––––––––––––––––––––––––––––––––– */
      /* Support for CSS `d` property is required. */



   /* –––––––––––––––––––––––––––––––––––––––––––––––––– */

	/* RESET RULES
–––––––––––––––––––––––––––––––––––––––––––––––––– */
@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap');

:root {
  --white: white;
  --black: black;
  --menu-color: #b1ffe5;
  --fixed-menu-color: aquamarine;
}

* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

ul {
  list-style: none;
}

button {
  border: none;
  background: transparent;
  cursor: pointer;
}

button:active {
  color: var(--black);
}

a {
  text-decoration: none;
  color: var(--black);
}

body {
  font: normal 18px/1.5 "Ubuntu", sans-serif;
}

.no-transition * {
  transition: none !important;
}
/* edit anjing
–––––––––––––––––––––––––––––––––––––––––––––––––– */



/* edit table
–––––––––––––––––––––––––––––––––––––––––––––––––– */
#tabel-belanja {
  font-family: 'Roboto', sans-serif;
  border-collapse: collapse;
  width: 100%;
  margin-bottom: 20px;
  color: #fff;
  background-color: #1d1d1d;
  box-shadow: 0 2px 4px rgba(0,0,0,0.4);
}

#tabel-belanja th,
#tabel-belanja td {
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid #ddd;
}

#tabel-belanja th {
  background-color: #333;
  color: #fff;
  font-weight: bold;
}

#tabel-belanja td:nth-child(even) {
  background-color: #2d2d2d;
}

#tabel-belanja .total {
  font-weight: bold;
  background-color: #333;
  color: #fff;
}

#tabel-belanja tfoot tr {
  background-color: #2d2d2d;
}

#tabel-belanja tfoot tr:hover {
  background-color: #222;
}

#tabel-belanja tfoot td {
  padding: 12px;
  text-align: right;
}

#tabel-belanja tfoot td#total-harga {
  font-size: 24px;
}

#tabel-belanja td a {
  color: #fff;
  text-decoration: none;
}

#tabel-belanja td a:hover {
  color: #ddd;
}

#tabel-belanja .aksi {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#tabel-belanja .aksi a {
  margin-right: 8px;
  padding: 8px;
  border-radius: 4px;
  text-transform: uppercase;
  font-weight: bold;
}

#tabel-belanja .aksi a:hover {
  opacity: 0.8;
}

#tabel-belanja .aksi .edit {
  background-color: #4caf50;
}

#tabel-belanja .aksi .hapus {
  background-color: #f44336;
}



/* edit table
–––––––––––––––––––––––––––––––––––––––––––––––––– */







      
    </style>
  </head>
  <body>

   

   
    <section class="top-banner">
      <div class="top-banner-overlay">
        <h1>Diary Keuangan</h1>
        <br>
         <p>
          <div class="form-group">
            <label for="tanggal">Tanggal:</label>
            <input type="date" id="tanggal" name="tanggal">
          </div>
          </p>

          
            <div style="display:flex; justify-content:flex-end;">
              <div class="form-group" style="margin-left:10px;">
                <label for="harga">Harga</label>
                <div class="input-group">
                  <input type="text" id="harga" name="harga" onchange="formatNumber(this)" onkeyup="formatNumber(this)" placeholder="0" class="form-control">
                  <div class="input-group-append">
                    <button type="button" class="btn btn-danger btn-sm" onclick="clearHarga()">
                      <i class="fa fa-times-circle" aria-hidden="true"></i>
                      <span class="ml-2">Hapus</span>
                    </button>
                  </div>
                </div>
              </div>

              
              
              <div class="form-group" style="margin-left:10px;">
                <label for="deskripsi">Deskripsi Belanja</label>
                <div class="input-group">
                  <input type="text" id="deskripsi" name="deskripsi" class="form-control">
                  <div class="input-group-append">
                    <button type="button" class="btn btn-danger btn-sm" onclick="clearDeskripsi()">
                      <i class="fa fa-times-circle" aria-hidden="true"></i>
                      <span class="ml-2">Hapus</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="form-group text-center">
              <button type="button" class="btn btn-primary whatsapp-button" button type="button" onclick="tambah()">Tambahkan Belanja</button>
            </div>

            <table id="tabel-belanja">
              <thead>
                <tr>
                  <th>Tanggal</th>
                  <th>Deskripsi Belanja</th>
                  <th>Harga</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody>
              </tbody>
              <tfoot>
                <tr>
                  <br>
                  <br>
                  <td colspan="2" class="total">Total:</td>
                  <td id="total-harga" class="total">0</td>
                  <td></td>
                </tr>
              </tfoot>
              
            </table>
            <br>
            <br><center>
          <b></em>
          <td>
          
          
          

      </div>
    </section>
	  <nav class="top-nav">
		<div class="menu-wrapper">
		  <ul class="menu">
			<li>
			  <a href="">Halaman Awal</a>
			</li>
			<li>
			  <a href="">Tentang Reno & Mawar</a>
			  <ul class="sub-menu">
				<li>
				  <a href="">— Foto - foto</a>
				</li>
				<li>
				  <a href="">— Agenda Liburan</a>
				</li>
			  </ul>
			</li>
			<li>
			  <a href="">Laporan Keuangan</a>
			</li>
			<li>
			  <a href="">January 2023</a>
			</li>
			<li>
			  <a href="">Februari 2023</a>
			</li>
		  </ul>
		  <button class="menu-close" type="button" aria-label="close menu">✕</button>
		</div>
		<div class="fixed-menu">
		  <h2 class="logo">Menu</h2>
		  <button class="menu-toggle" type="button" aria-label="toggle menu">☰</button>
		  <ul class="socials">
			<li>
			  <a href=""><button type="button" class="btn btn-primary whatsapp-button" button onclick="kirimWhatsApp()" class="blink-black">Kirim WhatsApp</button></a>
			</li>
			<li>
			</li>
			<li>
			  <a href=""><button type="button" class="btn btn-primary whatsapp-button" button onclick="download()">Download</button></a>
			</li>
		  </ul>
		</div>
	  </nav>

    
	 
    
  

<script>


let belanjaan = [];

// Function untuk mengubah format angka menjadi format ribuan
function formatNumber(input) {
  var num = input.value.replace(/\./g,'');
  if (!isNaN(num)) {
    num = Number(num).toLocaleString('id-ID');
    input.value = num;
  } else {
    alert('Mohon masukkan angka saja');
    input.value = input.value.replace(/[^\d\.]*/g,'');
  }
}


function tambah() {
  let tanggal = document.getElementById('tanggal').value;
  let deskripsi = document.getElementById('deskripsi').value;
  let harga = parseInt(document.getElementById('harga').value.replaceAll(".", ""));
  if (tanggal && deskripsi && harga) {
    belanjaan.push({
      tanggal: tanggal,
      deskripsi: deskripsi,
      harga: harga
    });
    tampilkanTabelBelanja();
    document.getElementById('tanggal').value = '';
    document.getElementById('deskripsi').value = '';
    document.getElementById('harga').value = '';
  } else {
    alert('Sayang isi dulu yang lengkap {-_-}');
  }
}

function clearDeskripsi() {
		document.getElementById("deskripsi").value = "";
	}
	
	function clearHarga() {
		document.getElementById("harga").value = "";
	}

function hapus(index) {
  belanjaan.splice(index, 1);
  tampilkanTabelBelanja();
}

// Function untuk menampilkan tabel belanjaan
function tampilkanTabelBelanja() {
  let tabelBelanja = document.getElementById('tabel-belanja').getElementsByTagName('tbody')[0];
  let totalHarga = 0;
  tabelBelanja.innerHTML = '';
  belanjaan.forEach((belanja, index) => {
    let row = tabelBelanja.insertRow();
    let tanggalCell = row.insertCell(0);
    let deskripsiCell = row.insertCell(1);
    let hargaCell = row.insertCell(2);
    let aksiCell = row.insertCell(3);
    
    let tanggalArray = belanja.tanggal.split('-');
    let tanggalText = '';
    if (tanggalArray.length === 3) {
      tanggalText = document.createTextNode(`${tanggalArray[2]}-${tanggalArray[1]}-${tanggalArray[0]}`);
    } else {
      tanggalText = document.createTextNode(belanja.tanggal);
    }
    
    let deskripsiText = document.createTextNode(belanja.deskripsi);
    let hargaText = document.createTextNode(belanja.harga.toLocaleString());
    let aksiBtn = document.createElement('button');
    let aksiText = document.createTextNode('Hapus');
    aksiBtn.appendChild(aksiText);
    aksiBtn.setAttribute('onclick', 'hapus(' + index + ')');
    tanggalCell.appendChild(tanggalText);
    deskripsiCell.appendChild(deskripsiText);
    hargaCell.appendChild(hargaText);
    aksiCell.appendChild(aksiBtn);
    totalHarga += belanja.harga;
  });
  let totalHargaElem = document.getElementById('total-harga');
  totalHargaElem.innerHTML = totalHarga.toLocaleString();

  let downloadBtn = document.getElementById('download');
  downloadBtn.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(JSON.stringify(belanjaan)));
  downloadBtn.setAttribute('download', 'belanjaan.txt');
}



function download() {
  let rows = [];
  let headers = ["Tanggal", "Deskripsi Belanja", "Harga"];
  rows.push(headers);
  belanjaan.forEach((belanja) => {
    // Format tanggal menjadi format Indonesia
    let formattedDate = new Date(belanja.tanggal).toLocaleDateString("id-ID", { day: "numeric", month: "numeric", year: "numeric" });
    let row = [formattedDate, belanja.deskripsi, belanja.harga];
    rows.push(row);
  });
  let csvContent = "data:text/csv;charset=utf-8,"
                   + rows.map(e => e.join(",")).join("\n");

  let encodedUri = encodeURI(csvContent);
  let link = document.createElement("a");
  link.setAttribute("href", encodedUri);
  link.setAttribute("download", "lap Mawar.csv");
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}


function kirimWhatsApp() {
  let nomorUrut = 1;
  let text = "Catatan Belanjaan:\n";
  let tabelBelanja = document.getElementById("tabel-belanja");
  let rowLength = tabelBelanja.rows.length;
  for (let i = 1; i < rowLength - 1; i++) {
    let tanggal = tabelBelanja.rows[i].cells[0].innerHTML;
    let deskripsi = tabelBelanja.rows[i].cells[1].innerHTML;
    let harga = tabelBelanja.rows[i].cells[2].innerHTML;
    text += `${nomorUrut}. ${tanggal} - ${deskripsi} - ${harga}\n`;
    nomorUrut++;
  }
  let encodedText = encodeURIComponent(text);
  let phoneNumber = "6285247502344";
  let link = `https://api.whatsapp.com/send?phone=${phoneNumber}&text=${encodedText}`;

  window.open(link, "_blank");
}











      
	  const body = document.body;
const topNav = document.querySelector(".top-nav");
const menuToggle = topNav.querySelector(".menu-toggle");
const menuClose = topNav.querySelector(".menu-close");
const menuWrapper = topNav.querySelector(".menu-wrapper");
const topBannerOverlay = document.querySelector(".top-banner-overlay");
const isOpenedClass = "is-opened";
const isMovedClass = "is-moved";
const noTransitionClass = "no-transition";
let resize;

menuToggle.addEventListener("click", () => {
  menuWrapper.classList.toggle(isOpenedClass);
  topBannerOverlay.classList.toggle(isMovedClass);
});

menuClose.addEventListener("click", () => {
  menuWrapper.classList.remove(isOpenedClass);
  topBannerOverlay.classList.remove(isMovedClass);
});

document.addEventListener("keydown", (e) => {
  if (e.key == "Escape" && menuWrapper.classList.contains(isOpenedClass)) {
    menuClose.click();
  }
});

window.addEventListener("resize", () => {
  body.classList.add(noTransitionClass);
  clearTimeout(resize);
  resize = setTimeout(() => {
    body.classList.remove(noTransitionClass);
  }, 500);
});




</script>

  </body>
  </html>
